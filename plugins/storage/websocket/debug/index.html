<html>
<head>
    <script src="../../../core/target/classes/mwg.js"></script>
    <script src="../target/classes/mwg.ws.js"></script>
    <script>
        var graph = new org.mwg.GraphBuilder().withStorage(new org.mwg.plugin.WSClient("ws://localhost:8050")).build();
        graph.connect(function () {

            graph.findAll(0, 0, "nodes", function (nodes) {

                console.log("Nodes....");
                for(var i=0;i<nodes.length;i++){
                    console.log(nodes[i].toString());
                }


            });

/*
            graph.getIndexNode(0, 0, "nodes", function (node) {
                console.log(node.toString());
            });*/


            var node_a = graph.newNode(0, 0);
            node_a.set("name", "n_" + Date.now());
            graph.index("nodes", node_a, "name", function (res) {
                graph.save(function (res) {
                    //graph.findAll(0, 0, "nodes", function (nodes) {
                    //    console.log(nodes);
                   // });
                    //console.log(graph);
                });
            });

        });
    </script>
</head>
</html>